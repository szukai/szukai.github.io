(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{262:function(t,s,a){"use strict";a.r(s);var e=a(31),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"quickstart-storage-custom-connector-google-drive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#quickstart-storage-custom-connector-google-drive"}},[t._v("#")]),t._v(" Quickstart: Storage Custom Connector (Google Drive)")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#introduction"}},[t._v("Introduction")]),a("ul",[a("li",[a("a",{attrs:{href:"#quickstart-samples"}},[t._v("Quickstart Samples")])])])]),a("li",[a("a",{attrs:{href:"#openapi-document"}},[t._v("OpenAPI Document")]),a("ul",[a("li",[a("a",{attrs:{href:"#swagger-version-metadata-host-and-basepath-information"}},[t._v("Swagger Version, Metadata, Host, and Basepath Information")])]),a("li",[a("a",{attrs:{href:"#security-definitions"}},[t._v("Security Definitions")])]),a("li",[a("a",{attrs:{href:"#paths"}},[t._v("Paths")])])])]),a("li",[a("a",{attrs:{href:"#kloudless-specification-file"}},[t._v("Kloudless Specification File")]),a("ul",[a("li",[a("a",{attrs:{href:"#kloudless-version-openapi-and-script-location"}},[t._v("Kloudless Version, OpenAPI and Script Location")])]),a("li",[a("a",{attrs:{href:"#service-info"}},[t._v("Service Info")])]),a("li",[a("a",{attrs:{href:"#authentication"}},[t._v("Authentication")])]),a("li",[a("a",{attrs:{href:"#features"}},[t._v("Features")])]),a("li",[a("a",{attrs:{href:"#transforms"}},[t._v("Transforms")])])])]),a("li",[a("a",{attrs:{href:"#python-sdk-script"}},[t._v("Python SDK Script")])]),a("li",[a("a",{attrs:{href:"#testing-usage"}},[t._v("Testing/Usage")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),a("p",[t._v("This guide will demonstrate parts of a demo Google Drive custom connector using\nGoogle Drive v3 REST API.")]),t._v(" "),a("p",[t._v("As mentioned in the Custom Connector "),a("RouterLink",{attrs:{to:"/#introduction"}},[t._v("Introduction")]),t._v(" the\nKloudless Custom Connector is composed of three separate parts.")],1),t._v(" "),a("ul",[a("li",[t._v("An "),a("a",{attrs:{href:"#openapi-document"}},[t._v("OpenAPI document")]),t._v(" of the upstream service API you want\nto use.")]),t._v(" "),a("li",[t._v("A "),a("a",{attrs:{href:"#kloudless-specification-file"}},[t._v("Kloudless specification file")]),t._v(" describing\nthe behavior, properties and format mappings/transformations of the service.")]),t._v(" "),a("li",[t._v("A "),a("a",{attrs:{href:"#python-sdk-script"}},[t._v("Python SDK script")]),t._v(" with routing and endpoint\npre/post-processing logic.")])]),t._v(" "),a("p",[t._v("The sample custom connector in this guide will allow the user to connect to\nGoogle Drive with file CRUD endpoints and/or operations.")]),t._v(" "),a("h3",{attrs:{id:"quickstart-samples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#quickstart-samples"}},[t._v("#")]),t._v(" Quickstart Samples")]),t._v(" "),a("p",[t._v("Sample files for this quickstart can be found below:")]),t._v(" "),a("ul",[a("li",[t._v("OpenAPI: "),a("a",{attrs:{href:"/code/gdrive-sample-oapi.yml"}},[t._v("gdrive-sample-oapi.yml")])]),t._v(" "),a("li",[t._v("KSpec: "),a("a",{attrs:{href:"/code/gdrive-sample-kspec.yml"}},[t._v("gdrive-sample-kspec.yml")])]),t._v(" "),a("li",[t._v("Python Script: "),a("a",{attrs:{href:"/code/gdrive-sample.py"}},[t._v("gdrive-sample.py")])])]),t._v(" "),a("h2",{attrs:{id:"openapi-document"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openapi-document"}},[t._v("#")]),t._v(" OpenAPI Document")]),t._v(" "),a("p",[t._v("The OpenAPI document describes the connected service's REST API specification.\nHead over to the "),a("a",{attrs:{href:"../reference/oapi-ref"}},[t._v("OpenAPI specification")]),t._v(" page or\ndirectly to the "),a("a",{attrs:{href:"https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenAPI v2 specification"),a("OutboundLink")],1),t._v("\nto learn more.")]),t._v(" "),a("p",[t._v("While the Kloudless custom connector utilizes the OpenAPI specification to\ndefine how the connected service's endpoints, only certain fields are required.\nThe intent of this guide is to only cover the basics necessary for a working\ncustom connector. A complete OpenAPI specification is ideal, but may not be\nused by the Kloudless platform.")]),t._v(" "),a("p",[t._v("The full version of the\n"),a("a",{attrs:{href:"/code/gdrive-sample-oapi.yml"}},[t._v("sample OpenAPI document")]),t._v(" is available\nand can also be found on the project "),a("a",{attrs:{href:"https://github.com/Kloudless",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github page"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"swagger-version-metadata-host-and-basepath-information"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#swagger-version-metadata-host-and-basepath-information"}},[t._v("#")]),t._v(" Swagger Version, Metadata, Host, and Basepath Information")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("swagger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.0"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Google Drive Quickstart Example\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Sample specification for Kloudless Custom Connector\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("schemes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" https\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" www.googleapis.com\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("basePath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /drive/v3\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("produces")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" application/json\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("consumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" application/json\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("p",[t._v("Like every other OpenAPI specification, you'll want the OpenAPI version, as well\nas relevant metadata (for good documentation). The "),a("code",[t._v("host")]),t._v(", "),a("code",[t._v("basePath")]),t._v(", "),a("code",[t._v("schemes")]),t._v("\nand "),a("code",[t._v("produces")]),t._v("/"),a("code",[t._v("consumes")]),t._v(" is also fundamental.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("Currently only the OpenAPI v2 specification is supported.")])]),t._v(" "),a("h3",{attrs:{id:"security-definitions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#security-definitions"}},[t._v("#")]),t._v(" Security Definitions")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("securityDefinitions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("oauth2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" oauth2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scopes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/userinfo.email"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Read user email"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/userinfo.profile"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Read user public profile"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/drive"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Write files"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/drive.file"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Manage files"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/drive.metadata"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Manage metadata of files"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("flow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" accessCode\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("authorizationUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://accounts.google.com/o/oauth2/v2/auth"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tokenUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.googleapis.com/oauth2/v4/token"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("x-request-token-params")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("access_type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" offline\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prompt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" consent\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("Only "),a("strong",[t._v("one")]),t._v(" "),a("code",[t._v("securityDefinitions")]),t._v(" will be parsed and used.")]),t._v(" "),a("p",[t._v("For more details, please refer to the\n"),a("RouterLink",{attrs:{to:"/guides/authentication.html#openapi-definition-file"}},[t._v("Authentication guide")]),t._v(".")],1),t._v(" "),a("h3",{attrs:{id:"paths"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#paths"}},[t._v("#")]),t._v(" Paths")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("/about")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("operationId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" get_self\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("produces")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" application/json\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("security")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("oauth2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("parameters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fields\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("in")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" query\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("responses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"200"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ok\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("/files")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("operationId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" search_files\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("produces")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" application/json\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("security")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("oauth2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("parameters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" orderBy\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("in")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" query\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pageSize\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("in")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" query\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" integer\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pageToken\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("in")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" query\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" q\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("in")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" query\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fields\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("in")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" query\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("responses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"200"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ok\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("operationId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" create_file\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("produces")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" application/json\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("security")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("oauth2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("parameters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" uploadType\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("in")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" query\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" body\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("in")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" body\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" object\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("schema")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("properties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n                      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("parents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" array\n                          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("items")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n                      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mimeType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("responses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"200"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ok\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br"),a("span",{staticClass:"line-number"},[t._v("69")]),a("br"),a("span",{staticClass:"line-number"},[t._v("70")]),a("br"),a("span",{staticClass:"line-number"},[t._v("71")]),a("br"),a("span",{staticClass:"line-number"},[t._v("72")]),a("br"),a("span",{staticClass:"line-number"},[t._v("73")]),a("br"),a("span",{staticClass:"line-number"},[t._v("74")]),a("br"),a("span",{staticClass:"line-number"},[t._v("75")]),a("br"),a("span",{staticClass:"line-number"},[t._v("76")]),a("br")])]),a("p",[t._v("Paths describes the url endpoints for the connected service.")]),t._v(" "),a("p",[t._v("In the "),a("code",[t._v("paths")]),t._v(" section, there is no need to specify a full schema for\n"),a("code",[t._v("responses")]),t._v(", a minimum with "),a("code",[t._v('"200"')]),t._v(" with "),a("code",[t._v('"description: ok"')]),t._v(" may be enough.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("parameters")]),t._v(" objects can be referenced, but the "),a("code",[t._v("name")]),t._v(" property is always\nrequired.")]),t._v(" "),a("h2",{attrs:{id:"kloudless-specification-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kloudless-specification-file"}},[t._v("#")]),t._v(" Kloudless Specification File")]),t._v(" "),a("p",[t._v("The Kloudless Specification (KSpec) file contains information describing the\nbehavior, properties and format mappings/transformations of the connected\nservice. The Kloudless platform will also look for where the OpenAPI and\npython script files are from the KSpec file.")]),t._v(" "),a("p",[t._v("The full version of the\n"),a("a",{attrs:{href:"/code/gdrive-sample-kspec.yml"}},[t._v("sample KSpec file")]),t._v(" is available as well.")]),t._v(" "),a("p",[t._v("For details on each parameter, please refer to the\n"),a("a",{attrs:{href:"../reference/kspec-ref"}},[t._v("Kloudless Specification Reference")])]),t._v(" "),a("h3",{attrs:{id:"kloudless-version-openapi-and-script-location"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kloudless-version-openapi-and-script-location"}},[t._v("#")]),t._v(" Kloudless Version, OpenAPI and Script Location")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kloudless")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" connector\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.2"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("openapi")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gdrive-sample-oapi.yml"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gdrive-sample.py"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("Currently the Kloudless Specification only supports the "),a("code",[t._v("connector")]),t._v(" value, with\nversion "),a("code",[t._v('"0.2"')]),t._v(".")]),t._v(" "),a("p",[t._v("Specify the "),a("code",[t._v("openapi")]),t._v(" and "),a("code",[t._v("script")]),t._v(" parameters with the filenames for the OpenAPI\nYAML document and "),a("a",{attrs:{href:"#python-sdk-script"}},[t._v("python SDK script")]),t._v(" files respectively.")]),t._v(" "),a("h3",{attrs:{id:"service-info"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service-info"}},[t._v("#")]),t._v(" Service Info")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gdrive_quickstart\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("friendly_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Google Drive Quickstart Example\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("auth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" oauth2\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" storage\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("category")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" storage\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initially_visible")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("The "),a("code",[t._v("service_info")]),t._v(" mapping contains information for the connected service.\nIt will be used to create new service record in the Kloudless' Services\ndatabase.")]),t._v(" "),a("p",[t._v("The name used for the "),a("RouterLink",{attrs:{to:"/reference/kspec-ref.html#name"}},[a("code",[t._v("name")])]),t._v(" parameter is\nused internally within the Kloudless platform, and thus cannot be a duplicate\nof any other\n"),a("a",{attrs:{href:"https://developers.kloudless.com/docs/latest/core#introduction-supported-services",target:"_blank",rel:"noopener noreferrer"}},[t._v("Kloudless connector"),a("OutboundLink")],1),t._v(".\n"),a("code",[t._v("friendly_name")]),t._v(" is what will be shown in the authentication user interface when\nthe service is connected.")],1),t._v(" "),a("p",[t._v("The Google Drive sample service will also authenticate using OAuth 2.0. The\nKloudless platform supports "),a("code",[t._v("basic")]),t._v(" authentication as well. More details on\nauthentication can be found in the "),a("a",{attrs:{href:"authentication"}},[t._v("Authentication guide")]),t._v(".")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("authentication")]),t._v(" mapping works in tandem with the "),a("code",[t._v("securityDefinitions")]),t._v("\nparameter inside the OpenAPI definition file. The "),a("code",[t._v("access_token")]),t._v(" value is the\nname of the "),a("a",{attrs:{href:"#transforms"}},[t._v("transformation")]),t._v(" that will handle the authentication\nobject data.")]),t._v(" "),a("p",[t._v("As Google Drive is an online storage service, the "),a("code",[t._v("category")]),t._v(" should be set to\n"),a("code",[t._v("storage")]),t._v(". Although its API feature set can also cover "),a("code",[t._v("team")]),t._v(" and "),a("code",[t._v("events")]),t._v(",\nfor demonstration purposes only the "),a("code",[t._v("storage")]),t._v(" feature set will be covered, for\ndemonstration purposes, there will only be one entry under the "),a("code",[t._v("apis")]),t._v("\nparameter.")]),t._v(" "),a("p",[a("code",[t._v("initially_visible")]),t._v(" should be set to "),a("code",[t._v("false")]),t._v(" as the custom connector can be\nmade visible for public use later after testing if desired.")]),t._v(" "),a("h3",{attrs:{id:"authentication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authentication"}},[t._v("#")]),t._v(" Authentication")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("authentication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("handle_response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" access_token\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("The "),a("code",[t._v("authentication")]),t._v(" mapping works in tandem with the\n"),a("code",[t._v("securityDefinitions")]),t._v(" parameter inside the OpenAPI definition file. The\n"),a("code",[t._v("access_token")]),t._v(" value is the name of the "),a("a",{attrs:{href:"#transforms"}},[t._v("transformation")]),t._v(" that\nwill handle the authentication object data.")]),t._v(" "),a("p",[t._v("More details on authentication can be found in the\n"),a("a",{attrs:{href:"authentication"}},[t._v("Authentication guide")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"features"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#features"}},[t._v("#")]),t._v(" Features")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("features")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("defaults")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" base"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("The "),a("code",[t._v("features")]),t._v(" mapping contains a list of\n"),a("a",{attrs:{href:"../reference/properties-ref"}},[t._v("properties")]),t._v(" for the connected service. Properties\ndefine what features and behaviors a service is capable of. The\nKloudless platform has support for a couple of default base values with the\n"),a("code",[t._v("defaults")]),t._v(" mapping with "),a("code",[t._v("base-1")]),t._v(" as a value which includes basic authentication\ndefault settings.")]),t._v(" "),a("h3",{attrs:{id:"transforms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transforms"}},[t._v("#")]),t._v(" Transforms")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("transforms")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("access_token")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n        access_token: {{data.access_token}}\n        expiry: {{data.expires_in|expires_in_to_expiry}}\n        refresh_token: {{data.refresh_token}}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n        id: {{data.id}}\n        name: {{data.name}}\n        mime_type: {{data.mimeType}}\n        type: {{'folder' if data.mimeType.endswith('folder') else 'file'}}\n        {% if context.parent %}\n        parent:\n            id: {{context.parent.id}}\n            name: {{context.parent.name}}\n        {% endif %}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("The Kloudless specification file utilizes transforms to parse or translate\nobject data formats between the service endpoint API and the Kloudless\nplatform. A transform definition is essentially a YAML object with\n"),a("a",{attrs:{href:"http://jinja.pocoo.org/docs",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jinja2"),a("OutboundLink")],1),t._v(" variable rendering utilizing the\nJinja2 template engine.")]),t._v(" "),a("p",[t._v("More details can be found in the "),a("a",{attrs:{href:"transforms"}},[t._v("Transformations Guide")]),t._v(".")]),t._v(" "),a("p",[a("code",[t._v("access_token")]),t._v(" transforms the OAuth 2.0 access token response "),a("code",[t._v("data")]),t._v(" provided\nby the\n"),a("a",{attrs:{href:"https://developers.google.com/identity/protocols/OAuth2InstalledApp",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google API"),a("OutboundLink")],1),t._v("\nduring authorization. More details on authentication can be found in\nthe "),a("a",{attrs:{href:"authentication"}},[t._v("Authentication guide")]),t._v(".")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("file")]),t._v(" transformation will be called on by various functions, like\n"),a("code",[t._v("get_meta()")]),t._v(", or the "),a("code",[t._v("folder_contents()")]),t._v(" function by "),a("code",[t._v("client.transforms()")]),t._v("\nin the "),a("a",{attrs:{href:"#python-sdk-script"}},[t._v("python script")]),t._v(" (shown below).")]),t._v(" "),a("h2",{attrs:{id:"python-sdk-script"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python-sdk-script"}},[t._v("#")]),t._v(" Python SDK Script")]),t._v(" "),a("p",[t._v("With the basic URL endpoints and connector properties defined, the last thing\nneeded is to implement the remaining pre/post-processing logic with connector\nmethods in the python script defined earlier in the\n"),a("a",{attrs:{href:"#kloudless-version-openpi-and-script-location"}},[t._v("Kspec file")]),t._v(".")]),t._v(" "),a("p",[t._v("Each endpoint implemented should have a corresponding\n"),a("a",{attrs:{href:"../reference/properties-ref"}},[t._v("property")]),t._v(" name. The custom connector will then\nregister the method with the corresponding unified endpoint on the Kloudless\nplatform.")]),t._v(" "),a("p",[t._v("A complete copy of the sample script file can be found\n"),a("a",{attrs:{href:"/code/gdrive-sample.py"}},[t._v("here")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" kloudless_connector "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Connector\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" kloudless_connector"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exceptions "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" BadRequest\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mimetypes\n\n\nconnector "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Connector"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@connector"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("register")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"storage.folders.list"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("folder_contents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    parent_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    recursive "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'recursive'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    next_page "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response_dict"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'nextPageToken'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    children "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'file'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("response_dict"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'files'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" interface_context"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("extra_context\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" children "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("or")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'next_page'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" next_page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])]),a("p",[t._v("The "),a("code",[t._v("folder_contents")]),t._v(" function contains the code for processing a request to\nlist a folder's contents. It is registered to the "),a("code",[t._v("storage.folders.list")]),t._v("\nproperty, which corresponds to the\n"),a("code",[t._v("GET /accounts/{account_id}/storage/folders/{folder_id}/contents")]),t._v("\nendpoint on the Kloudless platform.")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@connector"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("register")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"storage.*.read"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_meta")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("The Kloudless custom connector supports a wild-card filter to handle properties\nfor connector functions as well. The "),a("code",[t._v("get_meta()")]),t._v(" function above will be\nregistered to both "),a("code",[t._v("storage.file.read")]),t._v(" and "),a("code",[t._v("storage.folder.read")]),t._v(" so it will\nbe called when reading both files and folders.")]),t._v(" "),a("h2",{attrs:{id:"testing-usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#testing-usage"}},[t._v("#")]),t._v(" Testing/Usage")]),t._v(" "),a("p",[t._v("Use the git sync feature in the\n"),a("a",{attrs:{href:"https://developers.kloudless.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Kloudless Developers Portal"),a("OutboundLink")],1),t._v(" to load them\nto the Kloudless platform. However, the service will not be initially visible.\nKloudless will also have console "),a("code",[t._v("ke-commands")]),t._v(" in the future to assist with\ncustom connector deployment and configuration as well.")])])}),[],!1,null,null,null);s.default=n.exports}}]);