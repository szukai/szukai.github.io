(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{260:function(e,t,s){"use strict";s.r(t);var a=s(31),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"customizing-the-pre-auth-form"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#customizing-the-pre-auth-form"}},[e._v("#")]),e._v(" Customizing the Pre-Auth Form")]),e._v(" "),s("p",[e._v("During the "),s("a",{attrs:{href:"authentication"}},[e._v("authentication")]),e._v(" flow,\nthe account and other required information are provided by the user.\nThe Kloudless Custom Connector facilitates this process by rendering the\n"),s("code",[e._v("pre-auth")]),e._v(" section from the Kloudless Specification into an HTML form.")]),e._v(" "),s("h2",{attrs:{id:"pre-auth-form-informations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pre-auth-form-informations"}},[e._v("#")]),e._v(" Pre-auth Form Informations")]),e._v(" "),s("p",[e._v("Kloudless will look for "),s("code",[e._v("pre_auth")]),e._v(" in the "),s("code",[e._v("authentication")]),e._v(" section in the\nKloudless Specification (Kspec) file to render the form. Here's a quick\nexample:")]),e._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("authentication")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("pre_auth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("instructions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("|")]),s("span",{pre:!0,attrs:{class:"token scalar string"}},[e._v("\n            <p>\n              Please provide your Kapost account's domain, username, and password\n            </p>")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("friendly_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Email address\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("input_type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" email\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("required")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("friendly_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" API Token\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("input_type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" password\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("required")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("domain")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("friendly_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Domain\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("input_type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" text\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("required")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br")])]),s("p",[e._v("The following fields should be defined:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("instructions")]),e._v(": Instructions on the necessary setups for the\nauthentication process.")]),e._v(" "),s("li",[s("code",[e._v("fields")]),e._v(": A dict that contains key-value pair of name and information for\neach form field. See "),s("a",{attrs:{href:"#form-fields"}},[e._v("Form Fields")]),e._v(".")]),e._v(" "),s("li",[s("code",[e._v("stores_password")]),e._v(": Optional. A boolean indicating whether Kloudless will\nstore the password. This decides what password storing policy footnote is\ndisplayed. Defaults to "),s("code",[e._v("false")]),e._v(".")])]),e._v(" "),s("h3",{attrs:{id:"form-fields"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#form-fields"}},[e._v("#")]),e._v(" Form Fields")]),e._v(" "),s("p",[e._v("It is possible to add multiple desired fields as name and information fields\nkey-value pairs.")]),e._v(" "),s("p",[e._v("The available configurations for fields are as follows:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("input_type")]),e._v(": The input type of the field, e.g. "),s("code",[e._v("email")]),e._v(", "),s("code",[e._v("url")]),e._v(", "),s("code",[e._v("password")]),e._v(",\n"),s("code",[e._v("text")]),e._v(", "),s("code",[e._v("url")]),e._v(", "),s("code",[e._v("checkbox")]),e._v(".")]),e._v(" "),s("li",[s("code",[e._v("friendly_name")]),e._v(": The label for the field.")]),e._v(" "),s("li",[s("code",[e._v("required")]),e._v(": Boolean. Whether the field is required.")]),e._v(" "),s("li",[s("code",[e._v("domainsuffix")]),e._v(": Only used for "),s("code",[e._v("subdomain")]),e._v(" field. See below for more information.")])]),e._v(" "),s("p",[e._v("For the "),s("RouterLink",{attrs:{to:"/guides/authentication.html#basic-authentication"}},[e._v("Basic Authentication")]),e._v(" flow\nto work, "),s("code",[e._v("username")]),e._v(" and "),s("code",[e._v("password")]),e._v(" are required in "),s("code",[e._v("fields")]),e._v(".")],1),e._v(" "),s("p",[e._v("Note the following special fields:")]),e._v(" "),s("p",[s("code",[e._v("subdomain")])]),e._v(" "),s("ul",[s("li",[e._v("Requires an extra configuration, "),s("code",[e._v("domainsuffix")]),e._v(".")]),e._v(" "),s("li",[e._v("As an example, if the domainsuffix is set to '.abc.com', the resulting input in the pre_auth form looks like: "),s("code",[e._v("[__subdomain__].abc.com")])])]),e._v(" "),s("p",[s("code",[e._v("scheme")])]),e._v(" "),s("ul",[s("li",[e._v("This field will only be rendered if "),s("code",[e._v("subdomain")]),e._v(" field is also present.")]),e._v(" "),s("li",[e._v("The resulting inputs look like: "),s("code",[e._v("[__scheme__]://[__subdomain__].abc.com")])])]),e._v(" "),s("h2",{attrs:{id:"storing-and-reusing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#storing-and-reusing"}},[e._v("#")]),e._v(" Storing And Reusing")]),e._v(" "),s("p",[e._v("The form input data will be passed into "),s("code",[e._v("account_info()")]),e._v(". The Kloudless\nConnector will retrieve the authenticated user's information with the provided\ninformation. It can also store essential fields other than "),s("code",[e._v("username")]),e._v("\nand "),s("code",[e._v("password")]),e._v(" in account's "),s("code",[e._v("extra_data")]),e._v(" for later use. Check the\n"),s("a",{attrs:{href:"account-info"}},[e._v("Account Info")]),e._v(" section for further details.")]),e._v(" "),s("p",[e._v("The account's "),s("code",[e._v("extra_data['url_vars']")]),e._v(" is a reserved field in "),s("code",[e._v("extra_data")]),e._v(" that\nKloudless uses to render the request URL easily. This prevents the developers\nfrom having to specify the URL rendering in "),s("code",[e._v("account_info")]),e._v(". E.g., If you have\nURL defined as "),s("code",[e._v("http://{domain}.kapost.com/")]),e._v(", the user filled "),s("code",[e._v("domain")]),e._v(" field\nwill be formatted into the URL.")])])}),[],!1,null,null,null);t.default=n.exports}}]);