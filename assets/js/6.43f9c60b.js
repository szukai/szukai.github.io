(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{207:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"authentication-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authentication-guide"}},[t._v("#")]),t._v(" Authentication Guide")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#overview"}},[t._v("Overview")])]),a("li",[a("a",{attrs:{href:"#openapi-definition-file"}},[t._v("OpenAPI Definition File")])]),a("li",[a("a",{attrs:{href:"#kloudless-specification-files"}},[t._v("Kloudless Specification Files")]),a("ul",[a("li",[a("a",{attrs:{href:"#basic-authentication"}},[t._v("Basic Authentication")])]),a("li",[a("a",{attrs:{href:"#oauth2"}},[t._v("OAuth2")])])])]),a("li",[a("a",{attrs:{href:"#authentication-oauth2-transforms"}},[t._v("Authentication (OAuth2) Transforms")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),a("p",[t._v("Just like standard Kloudless connectors, Custom Connectors will also need to be\nconfigured to be able to provide proper connectivity to the desired service.\nAuthentication can be configured for services by setting the following YAML\nmappings in both KSpec and OAPI specification files.")]),t._v(" "),a("h2",{attrs:{id:"openapi-definition-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openapi-definition-file"}},[t._v("#")]),t._v(" OpenAPI Definition File")]),t._v(" "),a("p",[t._v("Part of the Kloudless Custom Connector authentication configuration parameters\nare configured with the OpenAPI definition file.")]),t._v(" "),a("p",[t._v("This includes scopes, authentication flow, url paths, and more.")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("Only one "),a("code",[t._v("securityDefinitions")]),t._v(" mapping will accepted.")])]),t._v(" "),a("p",[t._v("Here's an example from our "),a("a",{attrs:{href:"#/quickstart/storage"}},[t._v("Gdrive quickstart")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("securityDefinitions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("oauth2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" oauth2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scopes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/userinfo.email"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Read user email"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/userinfo.profile"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Read user public profile"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/drive"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Write files"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/drive.file"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Manage files"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/drive.metadata"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Manage metadata of files"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("flow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" accessCode\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("authorizationUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://accounts.google.com/o/oauth2/v2/auth"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tokenUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.googleapis.com/oauth2/v4/token"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("x-request-token-params")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("access_type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" offline\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prompt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" consent\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("More details are available on how\n"),a("a",{attrs:{href:"https://swagger.io/docs/specification/authentication/oauth2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenAPI works with OAuth2"),a("OutboundLink")],1),t._v("\nat the "),a("a",{attrs:{href:"https://swagger.io/docs/specification",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenAPI website"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"kloudless-specification-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kloudless-specification-files"}},[t._v("#")]),t._v(" Kloudless Specification Files")]),t._v(" "),a("h3",{attrs:{id:"basic-authentication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-authentication"}},[t._v("#")]),t._v(" Basic Authentication")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("authentication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pre_auth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("instructions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v('\n            <p>\n              Please provide your JIRA account\'s login and\n              <a href="https://id.atlassian.com/manage/api-tokens" target="_blank">API Token</a>.\n            </p>')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fields")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("friendly_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Email address\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("input_type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" email\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("friendly_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" API Token\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("input_type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" password\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("domain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("friendly_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Domain\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("input_type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" text\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("p",[t._v("If using basic authorization, a "),a("code",[t._v("pre-auth")]),t._v(" mapping with the pre-authorization\nform fields is needed instead of a transforms. Based on the example above, the pre-authorization page for the custom connector generated would look something\nlike:")]),t._v(" "),a("p",[a("img",{attrs:{src:"/demo-connector-auth.png",alt:"Connector Basic Auth"}})]),t._v(" "),a("p",[t._v("The description for the pre-auth screen can be configured with the\n"),a("code",[t._v("instructions")]),t._v(" mapping, and form input fields inside "),a("code",[t._v("fields")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"oauth2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oauth2"}},[t._v("#")]),t._v(" OAuth2")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("authentication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("handle_response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" access_token\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("If using OAuth2, "),a("code",[t._v("handle_response: access_token")]),t._v(" with the appropriately defined\n"),a("a",{attrs:{href:"#Authentication-OAuth2-Transforms"}},[t._v("transforms")]),t._v(" should suffice. "),a("code",[t._v("access_token")]),t._v("\nis the name of transform that will parse the token response to the required\nformat.")]),t._v(" "),a("h2",{attrs:{id:"authentication-oauth2-transforms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authentication-oauth2-transforms"}},[t._v("#")]),t._v(" Authentication (OAuth2) Transforms")]),t._v(" "),a("p",[t._v("Below is an example of a the "),a("code",[t._v("access_token")]),t._v(" transforms.\nHere, the request's "),a("code",[t._v("data['access_token']")]),t._v(" is mapped to the "),a("code",[t._v("access_token")]),t._v("\nattribute, and "),a("code",[t._v("data['expires_in']")]),t._v(" is run through a filter to convert it to\na compatible timestamp.")]),t._v(" "),a("p",[t._v("Check out the "),a("a",{attrs:{href:"transforms"}},[t._v("Transforms Guide")]),t._v(" for more on how\ntransforms work.")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("transforms")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("access_token")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n        access_token: {{data.access_token}}\n        expiry: {{data.expires_in|expires_in_to_expiry}}\n        refresh_token: {{data.refresh_token}}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("The Kloudless Custom Connector will look for the following attributes when\nhandling OAuth2 authentication:")]),t._v(" "),a("h4",{attrs:{id:"access-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#access-token"}},[t._v("#")]),t._v(" access_token")]),t._v(" "),a("ul",[a("li",[t._v("type: string")]),t._v(" "),a("li",[t._v("required")])]),t._v(" "),a("p",[t._v("Access token string.")]),t._v(" "),a("h4",{attrs:{id:"expiry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expiry"}},[t._v("#")]),t._v(" expiry")]),t._v(" "),a("ul",[a("li",[t._v("type: string")]),t._v(" "),a("li",[t._v("optional")])]),t._v(" "),a("p",[t._v("Access token expiry time in "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Unix_time",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unix timestamp"),a("OutboundLink")],1),t._v("\nformat.")]),t._v(" "),a("h4",{attrs:{id:"refresh-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#refresh-token"}},[t._v("#")]),t._v(" refresh_token")]),t._v(" "),a("ul",[a("li",[t._v("type: string")]),t._v(" "),a("li",[t._v("optional")])]),t._v(" "),a("p",[t._v("Refresh token string.")]),t._v(" "),a("h4",{attrs:{id:"refresh-token-expiry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#refresh-token-expiry"}},[t._v("#")]),t._v(" refresh_token_expiry")]),t._v(" "),a("ul",[a("li",[t._v("type: string")]),t._v(" "),a("li",[t._v("optional")])]),t._v(" "),a("p",[t._v("Refresh token expiry time.")])])}),[],!1,null,null,null);s.default=n.exports}}]);