(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{255:function(t,s,a){"use strict";a.r(s);var e=a(31),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"authentication-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authentication-guide"}},[t._v("#")]),t._v(" Authentication Guide")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#prerequisites"}},[t._v("Prerequisites")])]),a("li",[a("a",{attrs:{href:"#overview"}},[t._v("Overview")])]),a("li",[a("a",{attrs:{href:"#oauth-2-0"}},[t._v("OAuth 2.0")]),a("ul",[a("li",[a("a",{attrs:{href:"#openapi-definition-file"}},[t._v("OpenAPI Definition File")])]),a("li",[a("a",{attrs:{href:"#kloudless-specification-files"}},[t._v("Kloudless Specification Files")])])])]),a("li",[a("a",{attrs:{href:"#basic-authentication"}},[t._v("Basic Authentication")]),a("ul",[a("li",[a("a",{attrs:{href:"#openapi-definition-file"}},[t._v("OpenAPI Definition File")])]),a("li",[a("a",{attrs:{href:"#kloudless-specification-file"}},[t._v("Kloudless Specification File")])])])]),a("li",[a("a",{attrs:{href:"#account-info"}},[t._v("Account Info")]),a("ul",[a("li",[a("a",{attrs:{href:"#openapi-definition-file"}},[t._v("OpenAPI Definition File")])]),a("li",[a("a",{attrs:{href:"#kloudless-specification-file"}},[t._v("Kloudless Specification File")])]),a("li",[a("a",{attrs:{href:"#customize-account-information-script"}},[t._v("Customize Account Information Script")])])])]),a("li",[a("a",{attrs:{href:"#summary"}},[t._v("Summary")]),a("ul",[a("li",[a("a",{attrs:{href:"#openapi-definition-file"}},[t._v("OpenAPI Definition File")])]),a("li",[a("a",{attrs:{href:"#kloudless-specification-file"}},[t._v("Kloudless Specification File")])])])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),a("p",[t._v("You will need the following items configured to proceed further:")]),t._v(" "),a("ol",[a("li",[a("p",[a("RouterLink",{attrs:{to:"/guides/quickstart-storage.html#swagger-version-metadata-host-and-basepath-information"}},[t._v("Swagger Version, Metadata, Host, and Base Path Information")]),t._v("\nin the OpenAPI definition file.")],1)]),t._v(" "),a("li",[a("p",[a("RouterLink",{attrs:{to:"/guides/quickstart-storage.html#kloudless-version-openapi-and-script-location"}},[t._v("Service Info")]),t._v("\nin the Kloudless specification file.")],1)])]),t._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),a("p",[t._v("Just like standard Kloudless connectors, Custom Connectors also need to be\nconfigured to be able to provide proper connectivity to the desired service.\nAuthentication can be configured for services by setting the following YAML\nmappings in both Kloudless specification (KSpec) and OAPI specification files\nbased on different authentication types. Kloudless currently supports\n"),a("a",{attrs:{href:"#oauth-2-0"}},[t._v("OAuth 2.0")]),t._v(" and "),a("a",{attrs:{href:"#basic-authentication"}},[t._v("Basic")]),t._v(" authentication.")]),t._v(" "),a("h2",{attrs:{id:"oauth-2-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oauth-2-0"}},[t._v("#")]),t._v(" OAuth 2.0")]),t._v(" "),a("p",[t._v("For services that support the OAuth 2.0 authentication flow, the developer will\nneed to implement the security definitions in the OpenAPI Definition file. A\nsimple "),a("a",{attrs:{href:"transforms"}},[t._v("transform mapping")]),t._v(" in the Kloudless specification (KSpec)\nis also required to map the access token request response back to required\nfields.")]),t._v(" "),a("h3",{attrs:{id:"openapi-definition-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openapi-definition-file"}},[t._v("#")]),t._v(" OpenAPI Definition File")]),t._v(" "),a("p",[t._v("Part of the Kloudless Custom Connector OAuth 2.0 authentication configuration\nparameters are configured with the OpenAPI definition file.")]),t._v(" "),a("p",[t._v("This includes scopes, authentication flow, URL paths, and more.")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("Only one "),a("code",[t._v("securityDefinitions")]),t._v(" mapping is utilized by the Kloudless Custom\nConnector.")])]),t._v(" "),a("p",[t._v("Here's an example from the "),a("a",{attrs:{href:"quickstart-storage"}},[t._v("Google Drive quickstart")]),t._v("\nusing "),a("a",{attrs:{href:"https://swagger.io/specification/v2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenAPI 2.0"),a("OutboundLink")],1),t._v(":")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("securityDefinitions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("oauth2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" oauth2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scopes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/userinfo.email"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Read user email"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/userinfo.profile"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Read user public profile"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/drive"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Write files"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/drive.file"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Manage files"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"https://www.googleapis.com/auth/drive.metadata"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Manage metadata of files"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("flow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" accessCode\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("authorizationUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://accounts.google.com/o/oauth2/v2/auth"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tokenUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.googleapis.com/oauth2/v4/token"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("x-auth-params")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("access_type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" offline\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prompt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" consent\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("The Kloudless Custom Connector currently takes the following fields into\nconsideration:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("scopes")]),t._v(": The preset scopes used for the authentication flow.")]),t._v(" "),a("li",[a("code",[t._v("flow")]),t._v(": Currently only "),a("code",[t._v("accessCode")]),t._v(" is supported.")]),t._v(" "),a("li",[a("code",[t._v("authorizationUrl")]),t._v(": The authorization URL to use for this flow.")]),t._v(" "),a("li",[a("code",[t._v("tokenUrl")]),t._v(": The token URL to use for the flow.")]),t._v(" "),a("li",[a("code",[t._v("refreshUrl")]),t._v(": The refresh URL to use for the flow, default to use the\ntokenUrl is not specified (Optional).")]),t._v(" "),a("li",[a("code",[t._v("x-auth-params")]),t._v(": An unstandardized Kloudless custom proprietary field\nthat adds the specified dict as parameters when constructing the authorization\ncode URL. (Optional)")]),t._v(" "),a("li",[a("code",[t._v("x-access-token-params")]),t._v(": An unstandardized Kloudless custom proprietary field\nthat adds the specified dict as parameters when constructing the access\ntoken URL. (Optional)")])]),t._v(" "),a("p",[t._v("More details are available on how\n"),a("a",{attrs:{href:"https://swagger.io/docs/specification/2-0/authentication/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenAPI works with OAuth 2.0"),a("OutboundLink")],1),t._v("\nat the "),a("a",{attrs:{href:"https://swagger.io/docs/specification",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenAPI website"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("The scopes values listed will be asked for on the authentication page. Comment\nout or remove the scopes that are unneeded.")]),t._v(" "),a("p",[t._v("The custom "),a("code",[t._v("x-request-token-params")]),t._v(" is used to specify a map of extra query\nparameters during the\n"),a("a",{attrs:{href:"https://developers.google.com/identity/protocols/OAuth2WebServer#obtainingaccesstokens",target:"_blank",rel:"noopener noreferrer"}},[t._v("OAuth 2.0 user authentication step"),a("OutboundLink")],1),t._v(".\n"),a("code",[t._v("x-access-token-params")]),t._v(" can be used for the\n"),a("a",{attrs:{href:"https://developers.google.com/identity/protocols/OAuth2WebServer#exchange-authorization-code",target:"_blank",rel:"noopener noreferrer"}},[t._v("access token request"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"kloudless-specification-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kloudless-specification-files"}},[t._v("#")]),t._v(" Kloudless Specification Files")]),t._v(" "),a("p",[t._v("The security definition in the OpenAPI definition file facilitates the OAuth\n2.0 authentication flow functionality. However, a\n"),a("a",{attrs:{href:"#authentication-oauth-2-0-transforms#Authentication-OAuth20-Transforms"}},[t._v("transforms")]),t._v("\nmapping is still required in order to handle the access token response.\nWe store the converted response token, expiry, and other possible extra data\nin a Kloudless unified format.")]),t._v(" "),a("h4",{attrs:{id:"authentication-response-handling"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authentication-response-handling"}},[t._v("#")]),t._v(" Authentication Response Handling")]),t._v(" "),a("p",[t._v("The authentication dictionary mapping contains a "),a("code",[t._v("handle_response")]),t._v(" key,\nwith the value "),a("code",[t._v("access_token_response")]),t._v(" set to reference the\nauthentication transforms defined below.")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("authentication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("handle_response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" access_token_response\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h4",{attrs:{id:"authentication-transforms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authentication-transforms"}},[t._v("#")]),t._v(" Authentication Transforms")]),t._v(" "),a("p",[t._v("We've included an example of an upstream access token response and\nthe corresponding "),a("code",[t._v("access_token")]),t._v(" transforms below.")]),t._v(" "),a("ul",[a("li",[t._v("Response:")])]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"access_token"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MTQ0NjJkZmQ5OTM2NDE1ZTZjNGZmZjI3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"expires_in"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3600")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"refresh_token"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"IwOGYzYTlmM2YxOTQ5MGE3YmNmMDFkNTVk"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("ul",[a("li",[t._v("Transforms:")])]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("access_token_response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("from_upstream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n        access_token: {{data.access_token}}\n        expiry: {{data.expires_in|expires_in_to_expiry}}\n        refresh_token: {{data.refresh_token}}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("The response here is represented as "),a("code",[t._v("data")]),t._v(" and passed into the transforms\nmap. The "),a("code",[t._v("data['access_token']")]),t._v(" is mapped to the "),a("code",[t._v("access_token")]),t._v("\nattribute, and "),a("code",[t._v("data['expires_in']")]),t._v(" is run through a filter to convert it to\na compatible timestamp.")]),t._v(" "),a("p",[t._v("Check out the "),a("a",{attrs:{href:"transforms"}},[t._v("Transforms Guide")]),t._v(" for more information on how\ntransforms work in greater detail.")]),t._v(" "),a("p",[t._v("The Kloudless Custom Connector will look for the following attributes when\nhandling OAuth 2.0 authentication:")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("access_token")]),t._v(": Access token string.")]),t._v(" "),a("ul",[a("li",[t._v("type: string")]),t._v(" "),a("li",[t._v("required")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("expiry")]),t._v(": Access token expiry time in "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Unix_time",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unix timestamp"),a("OutboundLink")],1),t._v(" format.")]),t._v(" "),a("ul",[a("li",[t._v("type: int")]),t._v(" "),a("li",[t._v("optional")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("refresh_token")]),t._v(": Refresh token string.")]),t._v(" "),a("ul",[a("li",[t._v("type: string")]),t._v(" "),a("li",[t._v("optional")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("refresh_token_expiry")]),t._v(": Refresh token expiry time in "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Unix_time",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unix timestamp"),a("OutboundLink")],1),t._v(" format.")]),t._v(" "),a("ul",[a("li",[t._v("type: int")]),t._v(" "),a("li",[t._v("optional")])])])]),t._v(" "),a("h2",{attrs:{id:"basic-authentication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-authentication"}},[t._v("#")]),t._v(" Basic Authentication")]),t._v(" "),a("h3",{attrs:{id:"openapi-definition-file-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openapi-definition-file-2"}},[t._v("#")]),t._v(" OpenAPI Definition File")]),t._v(" "),a("p",[t._v("Supporting Basic Authentication in the OpenAPI Definition is much simpler.")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("securityDefinitions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("basicAuth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" basic\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"kloudless-specification-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kloudless-specification-file"}},[t._v("#")]),t._v(" Kloudless Specification File")]),t._v(" "),a("p",[t._v("We provide a way for users to enter their username and password as required\nby the Basic Authentication scheme. In the Kloudless specification files, the\n"),a("code",[t._v("pre_auth")]),t._v(" form fields mapping is rendered to a form during the\npre-authentication process. An Example as follows:")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("authentication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pre_auth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("instructions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v('\n            <p>\n              Please provide your JIRA account\'s login and\n              <a href="https://id.atlassian.com/manage/api-tokens" target="_blank">API Token</a>.\n            </p>')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fields")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("friendly_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Email address\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("input_type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" email\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("domain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("friendly_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Domain\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("input_type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" text\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("friendly_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" API Token\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("input_type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" password\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("p",[t._v("If using basic authorization, a "),a("code",[t._v("pre_auth")]),t._v(" mapping with the pre-authorization\nform fields is needed instead of a transforms. Based on the example above, the\npre-authorization page for the custom connector generated would look something\nlike:")]),t._v(" "),a("p",[a("img",{attrs:{src:"/demo-connector-auth.png",alt:"Connector Basic Auth"}})]),t._v(" "),a("p",[t._v("The description for the pre-authorization screen can be configured with the\n"),a("code",[t._v("instructions")]),t._v(" mapping, and the form input fields configured inside the\n"),a("code",[t._v("fields")]),t._v(" mapping. "),a("code",[t._v("username")]),t._v(" and "),a("code",[t._v("password")]),t._v(" must be defined in "),a("code",[t._v("fields")]),t._v("\nfor Basic Authentication to work. The "),a("code",[t._v("domain")]),t._v(" in the example will be used\nto format the host URL but is optional, based on the service's requirements.\nOther custom fields required for authentication can also be defined here,\nsome common custom fields include domain and/or URL.")]),t._v(" "),a("p",[t._v("The Kloudless Custom Connector will render the "),a("code",[t._v("pre_auth")]),t._v(" config section into\nan HTML form. the user filled values are stored for later access.")]),t._v(" "),a("p",[t._v("For a more detailed document on how to customize the pre-authorization form,\nrefer to "),a("a",{attrs:{href:"pre-auth-form"}},[t._v("Customizing the Pre-Auth Form")]),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"account-info"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#account-info"}},[t._v("#")]),t._v(" Account Info")]),t._v(" "),a("p",[t._v("After the authentication flow, it is still necessary to gather basic\nuser information to wrap up the whole authentication process. In order to do\nso, the first endpoint - account information, needs to be implemented.")]),t._v(" "),a("p",[t._v("The endpoint url used to retrieve the authenticated user's information\n(e.g. "),a("code",[t._v("/users/me")]),t._v(") can usually be be found from the upstream service's API\ndocumentation.")]),t._v(" "),a("h3",{attrs:{id:"openapi-definition-file-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openapi-definition-file-3"}},[t._v("#")]),t._v(" OpenAPI Definition File")]),t._v(" "),a("p",[t._v("We need to define the corresponding account-info endpoint in the OpenAPI definition file, so that the user's account information can be returned.")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"/users/me"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("operationId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" get_self\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("produces")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" application/json\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("security")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("oauth2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("responses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"200"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ok\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h3",{attrs:{id:"kloudless-specification-file-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kloudless-specification-file-2"}},[t._v("#")]),t._v(" Kloudless Specification File")]),t._v(" "),a("p",[t._v("In the Kloudless specification file, a transforms mapping helps handle the\nresponse from the path defined.")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("transforms")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("account_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("from_upstream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v('\n            account_id: "{{data.UserId}}"\n            account_name: "{{data.Email}}"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("The Kloudless Custom Connector will look for the following attributes when\nhandling account information:")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("account_name")]),t._v(": The account's username, can either be email or something like\n"),a("code",[t._v("username@domain.com")]),t._v(". This should be unique among each service.")]),t._v(" "),a("ul",[a("li",[t._v("type: string")]),t._v(" "),a("li",[t._v("required")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("account_id")]),t._v(": The account's upstream user ID.")]),t._v(" "),a("ul",[a("li",[t._v("type: string")]),t._v(" "),a("li",[t._v("optional")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("extra_data")]),t._v(": Extra properties to be set on the account.")]),t._v(" "),a("ul",[a("li",[t._v("type: dict")]),t._v(" "),a("li",[t._v("optional")])])])]),t._v(" "),a("p",[t._v("Under "),a("code",[t._v("endpoints")]),t._v(" and "),a("code",[t._v("account_info")]),t._v(", "),a("code",[t._v("operation")]),t._v(" refers to the "),a("code",[t._v("operationId")]),t._v("\nfrom the path defined in OpenAPI Definition. "),a("code",[t._v("response")]),t._v(" refers to the\ntransform name from the Kloudless specification. This definition specifies\nwhich endpoint is being requested and how the response should be handled.")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("endpoints")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("account_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("operation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" get_self\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" account_info\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h3",{attrs:{id:"customize-account-information-script"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customize-account-information-script"}},[t._v("#")]),t._v(" Customize Account Information Script")]),t._v(" "),a("p",[t._v("If the "),a("code",[t._v("account_info")]),t._v(" gets too complicated for Kloudless specification to\nhandle, it's always possible to implement the "),a("code",[t._v("auth.account.read")]),t._v(" method in\nthe script instead. A quick example is as follows:")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@connector"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("register")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auth.account.read'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("account_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    domain_url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'domain'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("make_request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'get_self'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    response_dict "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response_dict"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'response'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n    user_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    user_email "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'email'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'account_name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" user_email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'account_id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'extra_data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'domain_url'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" domain_url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("p",[t._v("For more information on how to write customize script, please refer to the\n"),a("RouterLink",{attrs:{to:"/guides/quickstart-storage.html#python-sdk-script"}},[t._v("Python SDK Script")]),t._v(".")],1),t._v(" "),a("h2",{attrs:{id:"summary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#summary"}},[t._v("#")]),t._v(" Summary")]),t._v(" "),a("p",[t._v("A functioning Kloudless specification and OpenAPI definition files should look\nsimilar to the following:")]),t._v(" "),a("h3",{attrs:{id:"openapi-definition-file-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openapi-definition-file-4"}},[t._v("#")]),t._v(" OpenAPI Definition File")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("swagger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.0"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" GitHub \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Github OAPI Specification \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" api.github.com\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("basePath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("schemes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" https\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("produces")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" application/json\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("consumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" application/vnd.github.v3+json\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("securityDefinitions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("oauth2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" oauth2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scopes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("read:user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Grants access to read a user\'s profile data."')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("flow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" accessCode\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("authorizationUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/login/oauth/authorize"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tokenUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/login/oauth/access_token"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" GitHub OAuth Flow.\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("security")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("oauth2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("/user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("operationId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" get_self\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("responses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"200"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" OK\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"401"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Unauthorized\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"403"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Forbidden\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br")])]),a("h3",{attrs:{id:"kloudless-specification-file-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kloudless-specification-file-3"}},[t._v("#")]),t._v(" Kloudless Specification File")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kloudless")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" connector\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.3'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("openapi")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'github-oapi.yml'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" github \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("friendly_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" GitHub \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("auth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" oauth2\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" storage\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" events\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("category")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" storage \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initially_visible")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("authentication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("handle_response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" access_token_response\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("endpoints")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("account_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("operation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" get_self\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" account_info\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("transforms")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("access_token_response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("from_upstream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n            access_token: {{data.access_token}}\n            expiry: {{data.expires_in|expires_in_to_expiry}}\n            refresh_token: {{data.refresh_token}}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("account_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("from_upstream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v('\n            account_id: "{{data.UserId}}"\n            account_name: "{{data.Email}}"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br")])]),a("p",[t._v("With the files above, the Kloudless Custom Connector should be able to\nauthenticate a third party upstream service and get an account ID to start\nregistering more functions to it. For further customizations and guides on\nauthentication, please visit the Kloudless docs on "),a("a",{attrs:{href:"https://developers.kloudless.com/docs/v1/authentication#custom-oauth-credentials",target:"_blank",rel:"noopener noreferrer"}},[t._v("Authentication"),a("OutboundLink")],1),t._v(".")])])}),[],!1,null,null,null);s.default=n.exports}}]);